<main class="min-h-screen flex items-stretch text-gray-900 bg-white font-sans">
  
  <div class="hidden lg:flex lg:w-3/5 relative overflow-hidden bg-gray-900">
    <div class="absolute inset-0 bg-cover bg-center opacity-40 mix-blend-overlay" 
         style="background-image: url('https://images.unsplash.com/photo-1631549916768-4119b2e5f926?q=80&w=1979&auto=format&fit=crop');">
    </div>
    
    <div class="absolute inset-0 bg-gradient-to-br from-teal-500/90 to-blue-700/90"></div>

    <div class="absolute -top-24 -left-24 w-96 h-96 bg-white opacity-10 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 right-0 w-80 h-80 bg-teal-300 opacity-20 rounded-full blur-3xl"></div>

    <div class="relative z-10 w-full flex flex-col justify-center items-center text-center p-12">
      <div class="bg-white/10 backdrop-blur-md border border-white/20 p-8 rounded-3xl shadow-2xl mb-8 transform hover:scale-105 transition duration-500">
        <img src="/assets/nuevoLogo.jpg" alt="Logo PapuFarmacia" class="h-24 w-auto object-contain drop-shadow-lg">
      </div>
      
      <h2 class="text-4xl font-extrabold text-white tracking-tight mb-4">
        Sistema de farmacia
      </h2>
      <p class="text-blue-100 text-lg max-w-md mx-auto leading-relaxed">
        Administra inventarios, ventas y personal con la eficiencia que tu farmacia merece.
      </p>
    </div>
  </div>

  <div class="w-full lg:w-2/5 flex flex-col justify-center px-8 md:px-16 py-12 relative bg-white">
    
    <div class="lg:hidden self-center mb-8">
      <img src="/assets/logo.jpg" alt="Logo" class="h-24 w-auto">
    </div>

    <div class="max-w-md w-full mx-auto">
      <div class="mb-10">
        <h3 class="text-3xl font-bold text-gray-800 mb-2">Bienvenido</h3>
        <p class="text-gray-500 text-sm">Ingresa tus credenciales para acceder.</p>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-6">
        
        <div class="group">
          <label class="block text-sm font-semibold text-gray-700 mb-2 ml-1">Correo</label>
          <div class="relative">
             <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <svg class="h-5 w-5 text-gray-400 group-focus-within:text-teal-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
             </div>
             <input 
                type="text" 
                formControlName="identifier"
                placeholder="ej. farmaceutico@papu.com"
                class="w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all duration-300"
             >
          </div>
          
          @if(loginForm.get("identifier")?.touched && loginForm.get("identifier")?.invalid){
             <p class="mt-2 text-xs text-red-500 flex items-center animate-pulse">
               <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"/></svg>
               Campo requerido
             </p>
          }
        </div>

        <div class="group">
          <div class="flex justify-between items-center mb-2 ml-1">
             <label class="text-sm font-semibold text-gray-700">Contraseña</label>
            
          </div>
          <div class="relative">
             <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <svg class="h-5 w-5 text-gray-400 group-focus-within:text-teal-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                </svg>
             </div>
             <input 
                type="password" 
                formControlName="password"
                placeholder="••••••••"
                class="w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all duration-300"
             >
          </div>
          @if(loginForm.get("password")?.touched && loginForm.get("password")?.invalid){
             <p class="mt-2 text-xs text-red-500 flex items-center animate-pulse">
               <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"/></svg>
               Contraseña requerida
             </p>
          }
        </div>

        <button type="submit" 
          class="w-full bg-gradient-to-r from-teal-500 to-blue-600 text-white font-bold py-3.5 px-4 rounded-xl shadow-lg shadow-teal-500/30 hover:shadow-teal-500/50 hover:scale-[1.02] active:scale-[0.98] transition-all duration-200 text-sm tracking-wide uppercase">
          Iniciar Sesión
        </button>
      </form>
      
      <div class="mt-8 text-center">
        <p class="text-xs text-gray-400">© 2026 PapuFarmacias. Sistema v1.0</p>
      </div>
    </div>
  </div>

  @if (isErrorModalOpen) {
    <div class="fixed inset-0 z-[100] flex items-center justify-center p-4">
      
      <div class="fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity" (click)="closeErrorModal()"></div>

      <div class="bg-white rounded-3xl shadow-2xl w-full max-w-sm relative z-10 overflow-hidden animate-fade-in-up">
        
        <div class="bg-red-50 p-6 flex flex-col items-center justify-center border-b border-red-100">
           <div class="bg-red-100 p-3 rounded-full mb-3">
             <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
           </div>
           <h3 class="text-xl font-bold text-gray-900">Credenciales Inválidas</h3>
        </div>

        <div class="p-6 text-center space-y-4">
           <p class="text-gray-500 text-sm leading-relaxed">
             El usuario o la contraseña que ingresaste no coinciden con nuestros registros.
           </p>
           <p class="text-xs text-gray-400">Por favor, verifica mayúsculas y minúsculas.</p>
        </div>

        <div class="p-4 bg-gray-50">
          <button (click)="closeErrorModal()" class="w-full bg-white border border-gray-300 text-gray-700 font-semibold py-2.5 rounded-xl hover:bg-gray-100 focus:ring-2 focus:ring-gray-200 transition-colors">
            Intentar de nuevo
          </button>
        </div>
      </div>
    </div>
  }
</main>